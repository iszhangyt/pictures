######### é”šç‚¹ start #######

#è¿™é‡Œæ˜¯è®¢é˜…æ›´æ–°å’Œå»¶è¿Ÿæµ‹è¯•ç›¸å…³çš„
p: &p {type: http, interval: 86400, health-check: {enable: true, url: http://www.gstatic.com/generate_204, interval: 300}}

use1: &use1
  type: select
  use:
  - 'æµ·ç­'

use2: &use2
  type: select
  use:
  - 'taishan'


use5: &use5
  type: select
  use:
  - '365Cloud'

use6: &use6
  type: select
  use:
    - 'ACA'



######### é”šç‚¹ end #######


# url é‡Œå¡«å†™è‡ªå·±çš„è®¢é˜…,åç§°ä¸èƒ½é‡å¤
proxy-providers: 
  'æµ·ç­': 
    <<: *p
    path: ./proxy/provider1.yaml
    url: "https://api.haita.io/api/v1/client/subscribe?token=202dffbfb8b4d8092305f5f087cd17ad"

  'taishan':
    <<: *p
    path: ./proxy/provider2.yaml
    url: "https://google.iszhangyt.cn/proxy/https/jp.taishan1.pro/api/v1/client/subscribe?token=9acb0b89bc9c9d90af9a5862eb690a51"


  '365Cloud':
    <<: *p
    path: ./proxy/provider5.yaml
    url: "http://vip.365cloud.me/api/v1/client/subscribe?token=c1de85272bd0979ad5b4ca7afd1f7a86"

  'ACA':
    <<: *p
    path: ./proxy/provider6.yaml
    url: "https://api.acaisbest.shop/api/v1/client/subscribe?token=50c20b707c17ebb9a9ffb27b7199912b"
    
dns:
  enable: true
  prefer-h3: true
  listen: 0.0.0.0:1053
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - '*'
    - '+.lan'
    - '+.local'
    - '+.msftncsi.com'
    - '+.msftconnecttest.com'
    - '+.xboxlive.com'
    - 'xbox.*.microsoft.com'
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - +.stun.*.*.*.*.*
    - "*.n.n.srv.nintendo.net"
    - +.stun.playstation.net
  default-nameserver:
    - 1.1.1.1
    - 8.8.8.8
    - 180.76.76.76
    - 114.114.114.114
    - 223.6.6.6
    - https://120.53.53.53/dns-query
  nameserver:
    - system
    - https://doh.pub/dns-query
    - https://223.6.6.6/dns-query
    - https://120.53.53.53/dns-query
  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://223.6.6.6/dns-query
    - https://120.53.53.53/dns-query
  nameserver-policy:
    "www.gstatic.com":
      - https://doh.pub/dns-query
      - https://223.6.6.6/dns-query
      - https://120.53.53.53/dns-query
      - https://1.1.1.1/dns-query
      - https://8.8.4.4/dns-query
      - https://1.0.0.1/dns-query
      - https://8.8.8.8/dns-query
      - https://cloudflare-dns.com/dns-query
    "geosite:cn,private,geolocation-cn,apple-cn":
      #- system
      - https://doh.pub/dns-query
      - https://223.6.6.6/dns-query
      - https://120.53.53.53/dns-query
    "rule-set:SteamCN":
      #- system
      - https://doh.pub/dns-query
      - https://223.6.6.6/dns-query
      - https://120.53.53.53/dns-query
    "geosite:telegram":
      - 'https://1.1.1.1/dns-query#TG'
      - 'https://8.8.4.4/dns-query#TG'
      - 'https://1.0.0.1/dns-query#TG'
      - 'https://8.8.8.8/dns-query#TG'
      - 'https://cloudflare-dns.com/dns-query#TG'
      - 'https://194.242.2.3/dns-query#TG'
      - 'https://194.242.2.2/dns-query#TG'
      - 'https://208.67.220.220/dns-query#TG'
      - 'https://208.67.222.222/dns-query#TG'
    "rule-set:YouTube,YouTubeMusic":
      - 'https://1.1.1.1/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://8.8.4.4/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://1.0.0.1/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://8.8.8.8/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://cloudflare-dns.com/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://194.242.2.3/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://194.242.2.2/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://208.67.220.220/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://208.67.222.222/dns-query#èŠ‚ç‚¹é€‰æ‹©'
    "rule-set:Google":
      - 'https://1.1.1.1/dns-query#Google'
      - 'https://8.8.4.4/dns-query#Google'
      - 'https://1.0.0.1/dns-query#Google'
      - 'https://8.8.8.8/dns-query#Google'
      - 'https://cloudflare-dns.com/dns-query#Google'
      - 'https://194.242.2.3/dns-query#Google'
      - 'https://194.242.2.2/dns-query#Google'
      - 'https://208.67.220.220/dns-query#Google'
      - 'https://208.67.222.222/dns-query#Google'
    "geosite:google":
      - 'https://1.1.1.1/dns-query#Google'
      - 'https://8.8.4.4/dns-query#Google'
      - 'https://1.0.0.1/dns-query#Google'
      - 'https://8.8.8.8/dns-query#Google'
      - 'https://cloudflare-dns.com/dns-query#Google'
      - 'https://194.242.2.3/dns-query#Google'
      - 'https://194.242.2.2/dns-query#Google'
      - 'https://208.67.220.220/dns-query#Google'
      - 'https://208.67.222.222/dns-query#Google'
    "geosite:telegram,gfw,geolocation-!cn,gfw":
      - 'https://1.1.1.1/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://8.8.4.4/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://1.0.0.1/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://8.8.8.8/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://cloudflare-dns.com/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://194.242.2.3/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://194.242.2.2/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://208.67.220.220/dns-query#èŠ‚ç‚¹é€‰æ‹©'
      - 'https://208.67.222.222/dns-query#èŠ‚ç‚¹é€‰æ‹©'

profile:
  store-selected: true
  # å‚¨å­˜ API å¯¹ç­–ç•¥ç»„çš„é€‰æ‹©ï¼Œä»¥ä¾›ä¸‹æ¬¡å¯åŠ¨æ—¶ä½¿ç”¨
  store-fake-ip: true
  # å‚¨å­˜ fakeip æ˜ å°„è¡¨ï¼ŒåŸŸåå†æ¬¡å‘ç”Ÿè¿æ¥æ—¶ï¼Œä½¿ç”¨åŸæœ‰æ˜ å°„åœ°å€

find-process-mode: strict
global-client-fingerprint: chrome

#ä¼˜åŒ–å»¶è¿Ÿæ˜¾ç¤º
unified-delay: false

mode: rule
ipv6: false
tcp-concurrent: true
log-level: info
allow-lan: false
mixed-port: 7890
secret: ''
external-controller: 127.0.0.1:9090

geodata-mode: true
geo-auto-update: true
geo-update-interval: 12
geox-url:
  geoip: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"

proxies:
  - name: 'ç¾å›½cdn'
    type: vless
    server: 104.18.140.159
    port: 443
    uuid: 2c2a6393-0fa4-405d-e762-a89f6dacdf8f
    # skip-cert-verify: true
    udp: true
    tls: true
    network: ws
    servername: cf.isgv.me
    ws-opts:
      path: "/2c2a6393"
      headers:
        Host: cf.isgv.me

  - name: "ç¾å›½hy2"
    type: hysteria2
    server: 23.94.84.40
    port: 443
    #  upå’Œdownå‡ä¸å†™æˆ–ä¸º0åˆ™ä½¿ç”¨BBRæµæ§
    up: "50 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
    down: "250 Mbps" # è‹¥ä¸å†™å•ä½ï¼Œé»˜è®¤ä¸º Mbps
    password: 123456
    sni: bing.com
    skip-cert-verify: true
  
  - name: "é¦™æ¸¯"
    type: vless
    server: 23.97.65.209
    port: 56510
    uuid: 0220b44c-3d19-42db-811b-3e3e564caaae
    network: tcp
    tls: true
    udp: true
    servername: oheng.com
    flow: xtls-rprx-vision 
    client-fingerprint: chrome
    reality-opts: 
      public-key: g-oxbqigzCaXqARxuyD2_vbTYeMD9zn8wnTo02S69QM
    # xudp: true #default
    # skip-cert-verify: true
  
  - name: CF Worker
    type: vless
    server: www.gov.se
    port: 443
    uuid: b95fead6-7101-43f9-b512-96efeff05bb8
    udp: true
    tls: true
    network: ws
    #client-fingerprint:
    skip-cert-verify: true 
    servername: aa.iszhangyt.cn
    ws-opts:
      path: "/?ed=2048"
      headers:
        Host: aa.iszhangyt.cn
  - type: vless
    name: CF2
    server: jiedian.isgv.me
    port: 443
    uuid: bc80d1de-2ba6-42dd-8603-4ca682dbfdc7
    network: ws
    tls: true
    udp: false
    sni: jiedian.isgv.me
    client-fingerprint: randomized
    ws-opts:
      path: "/?ed=2560"
      headers:
        host: jiedian.isgv.me
  - {"name":"ğŸ‡ºğŸ‡¸ Embyå®¶äººç»„ 0.01x","type":"ss","server":"tjsedht.cfprefer1.xyz","port":39808,"cipher":"aes-256-gcm","password":"c8cd6e6b-b813-4d28-8c11-5f1fc4fe7e23","udp":true}

proxy-groups:
  - {name: èŠ‚ç‚¹é€‰æ‹©, type: select, proxies: [æµ·ç­, taishan, 365Cloud, ACA, è‡ªå»ºèŠ‚ç‚¹], icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/adjust.svg}
  - {name: ACA, <<: *use6, icon: https://cdn.xiui.top/https://github.com/iszhangyt/pictures/blob/img/img/aca.jpg }
  - {name: æµ·ç­, <<: *use1}
  - {name: 365Cloud, <<: *use5}
  - {name: taishan, <<: *use2}
  - {name: Google, <<: *use1, filter: "(?i)ç¾|us|unitedstates|united states", proxies: [DIRECT, 365Cloud], icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/google.svg}
  - {name: è‡ªå»ºèŠ‚ç‚¹, type: select, proxies: [é¦™æ¸¯, ç¾å›½cdn, ç¾å›½hy2, CF Worker, CF2]}
  - {name: TG, type: select, use: [ACA], filter: "(?i)æ–°åŠ å¡|sg|singapore", icon: https://fastly.jsdelivr.net/gh/clash-verge-rev/clash-verge-rev.github.io@main/docs/assets/icons/telegram.svg}
  - {name: Embyå…¬ç›Šæœ, type: select, use: [ACA], proxies: [èŠ‚ç‚¹é€‰æ‹©, ğŸ‡ºğŸ‡¸ Embyå®¶äººç»„ 0.01x, ç¾å›½cdn, DIRECT], icon: https://cdn.xiui.top/https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Emby.png}
  - {name: TikTok, type: select, use: [ACA], proxies: [æµ·ç­, taishan, 365Cloud, DIRECT]}



rule-providers:
  YouTube:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/YouTube_No_Resolve.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube_No_Resolve.yaml"
    interval: 86400
  YouTubeMusic:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/YouTubeMusic.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTubeMusic/YouTubeMusic.yaml"
    interval: 86400
  Google:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/Google_No_Resolve.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google_No_Resolve.yaml"
    interval: 86400
  GoogleCNProxyIP:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/GoogleCNProxyIP.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/GoogleCNProxyIP.yaml"
    interval: 86400
  LocalAreaNetwork:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/LocalAreaNetwork.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
    interval: 86400
  UnBan:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/UnBan.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/UnBan.yaml"
    interval: 86400
  ChinaDomain:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ChinaDomain.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaDomain.yaml"
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/ChinaMedia.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"
    interval: 86400
  BanAD:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/BanAD.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanAD.yaml"
    interval: 86400
  BanProgramAD:
    type: http
    behavior: classical
    format: yaml
    path: ./rules/BanProgramAD.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanProgramAD.yaml"
    interval: 86400
  ChinaCompanyIp:
    type: http
    behavior: ipcidr
    format: yaml
    path: ./rules/ChinaCompanyIp.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaCompanyIp.yaml"
    interval: 86400
  ChinaIp:
    type: http
    behavior: ipcidr
    format: yaml
    path: ./rules/ChinaIp.yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaIp.yaml"
    interval: 86400
  gfw:
    type: http
    behavior: domain
    format: yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/Loyalsoldier/clash-rules/release/gfw.txt"
    path: ./rules/gfw.yaml
    interval: 86400
  SteamCN:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN_No_Resolve.yaml"
    path: ./rules/SteamCN_No_Resolve.yaml
    interval: 86400
  Emby:
    type: http
    behavior: classical
    format: text
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/MisakaFxxk/MisakaF_Subconverter/main/Sub/Emby.list"
    path: ./rules/Emby.yaml
    interval: 86400
  TikTok:
    type: http
    behavior: classical
    format: yaml
    url: "https://cdn.xiui.top/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/TikTok/TikTok_No_Resolve.yaml"
    path: ./rules/TikTok.yaml
    interval: 86400


rules:
  # è‡ªå·±æ·»åŠ çš„è§„åˆ™
  - RULE-SET,SteamCN,DIRECT
  - DOMAIN,api.moegirl.org.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,commons.moegirl.org.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,mzh.moegirl.org.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,google.iszhangyt.cn,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,ctc.run,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,dy1.mmydy.xyz,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,alipansou.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,hysteria.network,èŠ‚ç‚¹é€‰æ‹©
  - PROCESS-NAME,NatTypeTester.exe,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,ipjiance.com,èŠ‚ç‚¹é€‰æ‹©
  - IP-CIDR,23.94.84.40/32,èŠ‚ç‚¹é€‰æ‹©,no-resolve
  - PROCESS-NAME,AdsPower Global.exe,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,time.windows.com,DIRECT
  - DOMAIN-SUFFIX,speedtest.net,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,ipinfo.io,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,us.taishan.pro,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,bulianglin.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,wenku8.cc,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,wenku8.net,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,wenku8.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,linovelib.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,bilinovel.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,readpai.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,copymanga.site,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,mangafunb.fun,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,mangafuna.xyz,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN,myip.ipip.net,èŠ‚ç‚¹é€‰æ‹©
  #- DOMAIN,stun.l.google.com,èŠ‚ç‚¹é€‰æ‹©
  - DOMAIN-SUFFIX,frp.one,DIRECT
  - DOMAIN-SUFFIX,miyoushe.com,DIRECT
  - DOMAIN-SUFFIX,browserleaks.com,èŠ‚ç‚¹é€‰æ‹©
    # è‡ªå·±æ·»åŠ çš„è§„åˆ™
  # è‡ªå·±æ·»åŠ çš„è§„åˆ™
  #- DOMAIN-SUFFIX,xn--ngstr-lra8j.com,èŠ‚ç‚¹é€‰æ‹©
  #- DOMAIN-SUFFIX,services.googleapis.cn,èŠ‚ç‚¹é€‰æ‹©
  #- GEOSITE,category-ads-all,REJECT
  - GEOSITE,telegram,TG
  - GEOIP,telegram,TG,no-resolve
  - DOMAIN-SUFFIX,misakaf.org,Embyå…¬ç›Šæœ
  - DOMAIN,emby.aca.best,Embyå…¬ç›Šæœ
  - RULE-SET,Emby,Embyå…¬ç›Šæœ,no-resolve
  - RULE-SET,TikTok,TikTok
  - RULE-SET,YouTube,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,YouTubeMusic,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Google,Google
  - RULE-SET,GoogleCNProxyIP,Google,no-resolve
  - GEOSITE,google,Google
  - GEOIP,google,Google,no-resolve
  - GEOSITE,geolocation-!cn,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,gfw,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,LocalAreaNetwork,DIRECT,no-resolve
  - RULE-SET,UnBan,DIRECT
  - RULE-SET,ChinaDomain,DIRECT
  - RULE-SET,ChinaMedia,DIRECT
  #- RULE-SET,BanAD,REJECT
  #- RULE-SET,BanProgramAD,REJECT
  - RULE-SET,ChinaCompanyIp,DIRECT,no-resolve
  - RULE-SET,ChinaIp,DIRECT,no-resolve
  - GEOSITE,PRIVATE,DIRECT,no-resolve
  - GEOSITE,CN,DIRECT
  - GEOIP,CN,DIRECT,no-resolve
  - GEOIP,private,DIRECT,no-resolve
  - MATCH,èŠ‚ç‚¹é€‰æ‹©
